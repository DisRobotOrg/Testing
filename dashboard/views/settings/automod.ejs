<%- include('../include/source'); -%>

<html>
    <head>
    <title><%= guild.name %> - AutoMod</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Latest compiled and minified CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
        
        <link rel="stylesheet" href="/css/index.css">
        <link rel="stylesheet" href="/css/dashboard.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
        
         <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
        <script src="/dashboard.js"></script>
        <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>


    </head>
    <body>

<div class="wrapper">
    <%- include('../include/sidemenu'); -%>

    <!-- Settings -->
    <%- include('../include/header'); -%>

        <section class="content">
        <div class="overview-all">

          
          <!-- AutoMod -->

        <h1>Auto Mod</h1>
        <hr style="width: 90%; margin: 20px auto;">
        <form method="POST">

                    <!-- Advanced Anti Hack -->

          <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLongTitle">Limits</h5>
                  <a type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </a>
                </div>
                <div class="modal-body">
                  
                  <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h4 style="margin: auto 0;">Channel's Limit :</h4>
                    <div>
                      <a class="input-button" onclick="if (!window.__cfRLUnblockHandlers) return false; dec('channelsLimit')">-</a>
                      <input class="input-number" name="channelsLimit" type="text" readonly="" value="<%= (limit && limit.channels) ? limit.channels : 5 %>">
                      <a class="input-button" onclick="if (!window.__cfRLUnblockHandlers) return false; inc('channelsLimit')">+</a>
                    </div>
                  </div>
                  
                  <hr>

                  <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h4 style="margin: auto 0;">Ban's Limit :</h4>
                    <div>
                      <a class="input-button" onclick="if (!window.__cfRLUnblockHandlers) return false; dec('bansLimit')">-</a>
                      <input class="input-number" name="bansLimit" type="text" readonly="" value="<%= limit && limit.bans ? limit.bans : 5 %>">
                      <a class="input-button" onclick="if (!window.__cfRLUnblockHandlers) return false; inc('bansLimit')">+</a>
                    </div>
                  </div>
                
                <hr>

                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <h4 style="margin: auto 0;">Kick's Limit :</h4>
                  <div>
                    <a class="input-button" onclick="if (!window.__cfRLUnblockHandlers) return false; dec('kicksLimit')">-</a>
                    <input class="input-number" name="kicksLimit" type="text" readonly="" value="<%= limit && limit.kicks ? limit.kicks : 5 %>">
                    <a class="input-button" onclick="if (!window.__cfRLUnblockHandlers) return false; inc('kicksLimit')">+</a>
                  </div>
                </div>
            
                <hr>

                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <h4 style="margin: auto 0;">Role's Limit :</h4>
                  <div>
                    <a class="input-button" onclick="if (!window.__cfRLUnblockHandlers) return false; dec('rolesLimit')">-</a>
                    <input class="input-number" name="rolesLimit" type="text" readonly="" value="<%= limit && limit.roles ? limit.roles : 5 %>">
                    <a class="input-button" onclick="if (!window.__cfRLUnblockHandlers) return false; inc('rolesLimit')">+</a>
                  </div>
                </div>
              
                </div>
                <div class="modal-footer">
                  <a type="button" class="btn" data-dismiss="modal">Close</a>
                  <button type="submit" class="btn">Save changes</button>
                </div>
              </div>
            </div>
          </div>

          
          <button type="submit" class="btn btn-save">
              <i class="fas fa-save"></i>
          </button>
        <div class="row mt-3" style="justify-content: center;">
            <div class="col-md-6 my-1 cart_mod">
                <div class="">
                    <div style="position: relative;">
                    <%if(protection.antibot) {%>
                        <% if(protection.antibot === "true") {%>
                            <input type="checkbox" class="toggle" name="antibot" style="right: 0; position: absolute;" checked>
                        <% } else if(protection.antibot === "false") {%>
                            <input type="checkbox" class="toggle" name="antibot" style="right: 0; position: absolute;">
                    <% } } else { %>
                        <input type="checkbox" class="toggle" name="antibot" style="right: 0; position: absolute;">
                    <%}%>    
                        <h5 class="text-light feature-title" style="text-align: left; margin-top: 5px;" style="left: 0; position: absolute;">Anti Bot:</h5>
                    </div>
                </div>
                <p />
            </div>

            <div class=" col-md-6 my-1 cart_mod">
              <div style="position: relative;display: flex;justify-content: space-between;align-items: center;flex-direction: row-reverse;">
                <div style="
                    display: flex;
                    align-items: center;
                    flex-direction: row;
                ">
                  <div style="">
                    <%if(protection.antihack) {%>
                        <%if(protection.antihack === "true") {%>
                            <input type="checkbox" class="toggle" name="antihack" style="" checked>
                        <% } else if(protection.antihack === "false") {%>
                            <input type="checkbox" class="toggle" name="antihack" style="">
                    <% } } else { %>
                        <input type="checkbox" class="toggle" name="antihack" style="">
                    <%}%> 
                  </div>
                  <button class="btn" style="" type="button" data-toggle="modal" data-target="#exampleModalCenter"><i class="fa-solid fa-gear"></i></button>
                </div>
                  
                <h5 class="text-light feature-title" style="margin: auto 0;">Anti Hack:</h5>
              </div>
              <p />
            </div>

            <div class=" col-md-6 my-1 cart_mod">
                <div class="">
                    <div style="position: relative;">
                        <%if(protection.antispam.toggle) {%>
                        <%if(protection.antispam.toggle === "true") {%>
                            <input type="checkbox" class="toggle" name="antispam" style="right: 0; position: absolute;" checked>
                        <% } else if(protection.antispam.toggle === "false") {%>
                            <input type="checkbox" class="toggle" name="antispam" style="right: 0; position: absolute;">
                    <% } } else { %>
                        <input type="checkbox" class="toggle" name="antispam" style="right: 0; position: absolute;">
                    <%}%> 
                        <h5 class="text-light feature-title" style="text-align: left; margin-top: 5px;" style="left: 0; position: absolute;">Anti Spam:</h5>
                    </div>
                </div>
                <hr>
                <input type="text" class="input" name="antispamMessages" value="<%= protection.antispam.messages ? protection.antispam.messages : "5" %>" placeholder="Messages in 5s">
                <hr>
                <select class="input form-select" data-width="100%" data-live-search="true" aria-label="action" name="actionSpam" >
                  <option value="none" <%= protection.antispam.action == "none" || !protection.antispam.action ? "selected" : "" %>> None </option>
                  <option value="mute" <%= protection.antispam.action == "mute" ? "selected" : "" %>> Mute </option>
                  <option value="warn" <%= protection.antispam.action == "warn" ? "selected" : "" %>> Warn </option>
                </select>
                <hr>
                <p class="seacondery-info text-white-50"> Number of words in 5 seconds
                <p />
            </div>

            <div class=" col-md-6 my-1 cart_mod">
                <div class="">
                    <div style="position: relative;">
                        <%if(protection.antilink.toggle) {%>
                        <%if(protection.antilink.toggle === "true") {%>
                            <input type="checkbox" class="toggle" name="antilink" style="right: 0; position: absolute;" checked>
                        <% } else if(protection.antilink.toggle === "false") {%>
                            <input type="checkbox" class="toggle" name="antilink" style="right: 0; position: absolute;">
                    <% } } else { %>
                        <input type="checkbox" class="toggle" name="antilink" style="right: 0; position: absolute;">
                    <%}%> 
                        <h5 class="text-light feature-title" style="text-align: left; margin-top: 5px;" style="left: 0; position: absolute;">Anti Link:</h5>
                    </div>
                </div>
                <hr>
                    <select class="input form-select" data-width="100%" data-live-search="true" aria-label="AntiLink" name="AntiLinkRole" >
                        <% guild.roles.cache.sort((a, b) => b.rawPosition - a.rawPosition).forEach((role, i) => { %>
                          <option value="<%= role.id%>" 
                             <%= protection.antilink.roles.includes(role.id) ? "selected" : "" %> style="color: <%= role.color == 0 ? "#fff" : role.color %>;"> <%=role.name%>
                          </option>
                        <% }) %>
                    </select>
                <hr>
                <select class="input form-select" data-width="100%" data-live-search="true" aria-label="action" name="actionAntiLink" >
                  <option value="none" <%= protection.antilink.action == "none" || !protection.antilink.action ? "selected" : "" %>> None </option>
                  <option value="mute" <%= protection.antilink.action == "mute" ? "selected" : "" %>> Mute </option>
                  <option value="warn" <%= protection.antilink.action == "warn" ? "selected" : "" %>> Warn </option>
                </select>
                <hr>
                <p class="seacondery-info text-white-50"> The role allowed to put the links
                <p />
            </div>
        </div>
        </section>     
        <!-- Welcome -->
</div>
<script>
var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})

document.getElementById("automod").classList.add('btn-sidebar-active');

document.getElementById("automod").classList.remove('btn-sidebar');


  // Anti Hack
  let antihack = document.getElementsByName("antihack");
    function showButton() {
      document.getElementById("advancedShow").style.display = "flex";
    }
    function hideButton() {
      document.getElementById("advancedShow").style.display = "none";
    }
    function inc(element) {
      let el = document.querySelector(`[name="${element}"]`);
      if (parseInt(el.value) >= 10) return;
      el.value = parseInt(el.value) + 1;
    }
    
    function dec(element) {
      let el = document.querySelector(`[name="${element}"]`);
    	if (parseInt(el.value) > 0) {
    	  el.value = parseInt(el.value) - 1;
      }
    }

</script>

    </body>
</html>


